<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Interview Practice Quiz</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2563eb;
    --primary-hover: #1d4ed8;
    --success-color: #10b981;
    --error-color: #ef4444;
    --bg-color: #0f172a;
    --card-bg: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --border-color: #334155;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: var(--text-primary);
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 900px;
    margin: 0 auto;
}

.screen {
    display: none;
    animation: fadeIn 0.3s ease-in;
}

.screen.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

#welcome-screen h1 {
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 10px;
    background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.subtitle {
    text-align: center;
    color: var(--text-secondary);
    margin-bottom: 50px;
    font-size: 1.1rem;
}

.selection-grid {
    display: grid;
    gap: 40px;
    margin-bottom: 40px;
}

.selection-section h2 {
    font-size: 1.3rem;
    margin-bottom: 20px;
    color: var(--text-primary);
}

.button-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
}

.selection-btn {
    background: var(--card-bg);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 20px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.selection-btn .icon {
    font-size: 2rem;
}

.selection-btn:hover {
    border-color: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

.selection-btn.selected {
    background: var(--primary-color);
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
}

.primary-btn {
    background: var(--primary-color);
    color: white;
    border: none;
    padding: 15px 40px;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: block;
    margin: 0 auto;
}

.primary-btn:hover:not(:disabled) {
    background: var(--primary-hover);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
}

.primary-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.secondary-btn {
    background: var(--card-bg);
    color: var(--text-primary);
    border: 2px solid var(--border-color);
    padding: 12px 30px;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.secondary-btn:hover:not(:disabled) {
    border-color: var(--primary-color);
    transform: translateY(-2px);
}

.secondary-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.progress-info {
    font-size: 1.2rem;
    font-weight: bold;
}

.difficulty-badge {
    background: var(--card-bg);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.9rem;
    border: 2px solid var(--border-color);
}

.progress-bar {
    height: 8px;
    background: var(--card-bg);
    border-radius: 10px;
    margin-bottom: 30px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), #8b5cf6);
    transition: width 0.3s ease;
    border-radius: 10px;
}

.question-container {
    background: var(--card-bg);
    padding: 30px;
    border-radius: 12px;
    margin-bottom: 30px;
    border: 2px solid var(--border-color);
}

.tech-tag {
    display: inline-block;
    background: var(--primary-color);
    color: white;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.85rem;
    margin-bottom: 15px;
}

#question-text {
    font-size: 1.3rem;
    margin-bottom: 25px;
    line-height: 1.6;
}

.options-container {
    display: grid;
    gap: 12px;
}

.option-btn {
    background: rgba(51, 65, 85, 0.5);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 18px;
    border-radius: 8px;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1rem;
}

.option-btn:hover {
    border-color: var(--primary-color);
    background: rgba(37, 99, 235, 0.1);
}

.option-btn.selected {
    background: rgba(37, 99, 235, 0.2);
    border-color: var(--primary-color);
}

.option-btn.correct {
    background: rgba(16, 185, 129, 0.2);
    border-color: var(--success-color);
}

.option-btn.incorrect {
    background: rgba(239, 68, 68, 0.2);
    border-color: var(--error-color);
}

.quiz-controls {
    display: flex;
    justify-content: space-between;
    gap: 15px;
}

.score-card {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 40px;
    margin: 30px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 50px;
    border: 2px solid var(--border-color);
    flex-wrap: wrap;
}

.score-circle {
    text-align: center;
}

.score-value {
    font-size: 4rem;
    font-weight: bold;
    background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.score-label {
    font-size: 1.2rem;
    color: var(--text-secondary);
    margin-top: 10px;
}

.score-details {
    text-align: left;
}

.score-details p {
    font-size: 1.2rem;
    margin: 10px 0;
    color: var(--text-secondary);
}

.score-details strong {
    color: var(--text-primary);
    font-size: 1.5rem;
}

.performance-breakdown {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 30px;
    margin: 30px 0;
    border: 2px solid var(--border-color);
}

.performance-breakdown h3 {
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.tech-stat {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    margin: 10px 0;
    background: rgba(51, 65, 85, 0.5);
    border-radius: 8px;
}

.tech-stat-name {
    font-weight: bold;
}

.tech-stat-score {
    color: var(--primary-color);
    font-weight: bold;
}

.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.review-item {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 25px;
    margin: 20px 0;
    border: 2px solid var(--border-color);
}

.review-item.correct {
    border-color: var(--success-color);
}

.review-item.incorrect {
    border-color: var(--error-color);
}

.review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.review-status {
    padding: 6px 12px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 0.9rem;
}

.review-status.correct {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success-color);
}

.review-status.incorrect {
    background: rgba(239, 68, 68, 0.2);
    color: var(--error-color);
}

.review-question {
    font-size: 1.1rem;
    margin-bottom: 15px;
    font-weight: 500;
}

.review-options {
    margin: 15px 0;
}

.review-option {
    padding: 12px;
    margin: 8px 0;
    border-radius: 6px;
    background: rgba(51, 65, 85, 0.3);
}

.review-option.user-answer {
    border: 2px solid var(--primary-color);
    background: rgba(37, 99, 235, 0.1);
}

.review-option.correct-answer {
    border: 2px solid var(--success-color);
    background: rgba(16, 185, 129, 0.1);
}

.review-option.wrong-answer {
    border: 2px solid var(--error-color);
    background: rgba(239, 68, 68, 0.1);
}

@media (max-width: 768px) {
    #welcome-screen h1 {
        font-size: 2rem;
    }
    
    .button-group {
        grid-template-columns: 1fr;
    }
    
    .score-card {
        flex-direction: column;
        gap: 30px;
    }
    
    .quiz-controls {
        flex-direction: column;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <h1>üöÄ DevOps Interview Practice</h1>
            <p class="subtitle">Test your knowledge across Linux, Terraform, AWS, Ansible, Docker, Kubernetes, and Git</p>
            
            <div class="selection-grid">
                <div class="selection-section">
                    <h2>Select Difficulty Level</h2>
                    <div class="button-group">
                        <button class="selection-btn" data-level="beginner">
                            <span class="icon">üìö</span>
                            <span class="label">Beginner</span>
                        </button>
                        <button class="selection-btn" data-level="intermediate">
                            <span class="icon">üíº</span>
                            <span class="label">Intermediate</span>
                        </button>
                        <button class="selection-btn" data-level="advanced">
                            <span class="icon">üéØ</span>
                            <span class="label">Advanced</span>
                        </button>
                    </div>
                </div>

                <div class="selection-section">
                    <h2>Number of Questions</h2>
                    <div class="button-group">
                        <button class="selection-btn" data-count="50">50 Questions</button>
                        <button class="selection-btn" data-count="100">100 Questions</button>
                        <button class="selection-btn" data-count="150">150 Questions</button>
                        <button class="selection-btn" data-count="200">200 Questions</button>
                    </div>
                </div>
            </div>

            <button id="start-quiz-btn" class="primary-btn" disabled>Start Quiz</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen">
            <div class="quiz-header">
                <div class="progress-info">
                    <span id="current-question">1</span> / <span id="total-questions">50</span>
                </div>
                <div class="difficulty-badge" id="difficulty-badge">Beginner</div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>

            <div class="question-container">
                <div class="tech-tag" id="tech-tag">Linux</div>
                <h2 id="question-text">Question will appear here</h2>
                <div id="options-container" class="options-container"></div>
            </div>

            <div class="quiz-controls">
                <button id="prev-btn" class="secondary-btn" disabled>‚Üê Previous</button>
                <button id="next-btn" class="primary-btn">Next ‚Üí</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <h1>üéâ Quiz Completed!</h1>
            
            <div class="score-card">
                <div class="score-circle">
                    <div class="score-value" id="score-percentage">0%</div>
                    <div class="score-label">Score</div>
                </div>
                <div class="score-details">
                    <p><strong id="correct-count">0</strong> Correct</p>
                    <p><strong id="incorrect-count">0</strong> Incorrect</p>
                    <p><strong id="total-answered">0</strong> Total Questions</p>
                </div>
            </div>

            <div class="performance-breakdown">
                <h3>Performance by Technology</h3>
                <div id="tech-breakdown"></div>
            </div>

            <div class="action-buttons">
                <button id="review-btn" class="secondary-btn">Review Answers</button>
                <button id="restart-btn" class="primary-btn">Take Another Quiz</button>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="review-screen" class="screen">
            <h1>Review Your Answers</h1>
            <button id="back-to-results" class="secondary-btn">‚Üê Back to Results</button>
            <div id="review-container"></div>
        </div>
    </div>

    <script>
// Question Bank - Embedded directly in HTML
const questionBank = {
    beginner: {
        linux: [
            { question: "What command is used to list files in a directory?", options: ["ls", "cd", "pwd", "mkdir"], correct: 0 },
            { question: "Which command changes the current directory?", options: ["ls", "cd", "mv", "cp"], correct: 1 },
            { question: "What does the 'pwd' command do?", options: ["Print working directory", "Power down", "Process working data", "Print word document"], correct: 0 },
            { question: "Which command is used to create a new directory?", options: ["rmdir", "mkdir", "touch", "create"], correct: 1 },
            { question: "What command displays the contents of a file?", options: ["cat", "dog", "show", "display"], correct: 0 },
            { question: "Which command removes a file?", options: ["delete", "remove", "rm", "del"], correct: 2 },
            { question: "What does 'chmod' command do?", options: ["Change mode/permissions", "Change modification time", "Check mode", "Change owner"], correct: 0 },
            { question: "Which command shows currently running processes?", options: ["process", "ps", "show", "list"], correct: 1 },
            { question: "What is the superuser account called in Linux?", options: ["admin", "root", "super", "master"], correct: 1 },
            { question: "Which command is used to search for text in files?", options: ["find", "search", "grep", "look"], correct: 2 }
        ],
        terraform: [
            { question: "What is Terraform primarily used for?", options: ["Configuration management", "Infrastructure as Code", "Container orchestration", "Continuous Integration"], correct: 1 },
            { question: "Which command initializes a Terraform working directory?", options: ["terraform start", "terraform init", "terraform begin", "terraform setup"], correct: 1 },
            { question: "What file extension do Terraform configuration files use?", options: [".tf", ".terraform", ".txt", ".config"], correct: 0 },
            { question: "Which command shows the execution plan in Terraform?", options: ["terraform show", "terraform plan", "terraform preview", "terraform execute"], correct: 1 },
            { question: "What command applies the Terraform changes?", options: ["terraform execute", "terraform run", "terraform apply", "terraform deploy"], correct: 2 },
            { question: "What is Terraform state used for?", options: ["Storing logs", "Tracking infrastructure", "Managing users", "Storing secrets"], correct: 1 },
            { question: "Which company developed Terraform?", options: ["Google", "Amazon", "HashiCorp", "Microsoft"], correct: 2 },
            { question: "What command destroys Terraform-managed infrastructure?", options: ["terraform delete", "terraform remove", "terraform destroy", "terraform clean"], correct: 2 },
            { question: "What language does Terraform use for configuration?", options: ["YAML", "JSON", "HCL", "XML"], correct: 2 },
            { question: "What is a Terraform provider?", options: ["A user account", "A plugin to interact with APIs", "A configuration file", "A state file"], correct: 1 }
        ],
        aws: [
            { question: "What does EC2 stand for?", options: ["Elastic Compute Cloud", "Easy Computer Connection", "Electronic Cloud Computing", "Elastic Container Cloud"], correct: 0 },
            { question: "What is S3 used for?", options: ["Computing", "Storage", "Networking", "Database"], correct: 1 },
            { question: "Which AWS service is a managed relational database?", options: ["DynamoDB", "RDS", "S3", "EC2"], correct: 1 },
            { question: "What does IAM stand for?", options: ["Internet Access Management", "Identity and Access Management", "Internal Application Manager", "Integrated Account Management"], correct: 1 },
            { question: "Which service is used for content delivery (CDN)?", options: ["Route 53", "CloudFront", "S3", "ELB"], correct: 1 },
            { question: "What is AWS Lambda?", options: ["A database", "A serverless compute service", "A storage service", "A networking tool"], correct: 1 },
            { question: "Which service provides DNS services?", options: ["CloudFront", "Route 53", "VPC", "Direct Connect"], correct: 1 },
            { question: "What is Amazon VPC?", options: ["Virtual Private Cloud", "Virtual Public Connection", "Virtual Process Container", "Virtual Private Connection"], correct: 0 },
            { question: "Which AWS service is used for load balancing?", options: ["EBS", "ELB", "EC2", "EFS"], correct: 1 },
            { question: "What is CloudWatch used for?", options: ["Storage", "Monitoring", "Computing", "Networking"], correct: 1 }
        ],
        ansible: [
            { question: "What type of tool is Ansible?", options: ["Monitoring", "Configuration Management", "Database", "Load Balancer"], correct: 1 },
            { question: "What language are Ansible playbooks written in?", options: ["JSON", "XML", "YAML", "Python"], correct: 2 },
            { question: "Does Ansible require agents on managed nodes?", options: ["Yes", "No", "Sometimes", "Only on Windows"], correct: 1 },
            { question: "What protocol does Ansible primarily use?", options: ["HTTP", "FTP", "SSH", "SMTP"], correct: 2 },
            { question: "What is an Ansible playbook?", options: ["A log file", "A configuration file defining tasks", "A monitoring dashboard", "A database schema"], correct: 1 },
            { question: "What is an inventory file in Ansible?", options: ["List of tasks", "List of managed hosts", "List of users", "List of variables"], correct: 1 },
            { question: "Which company originally developed Ansible?", options: ["HashiCorp", "Red Hat", "Docker", "Google"], correct: 1 },
            { question: "What is an Ansible role?", options: ["User permission", "Reusable automation content", "Network configuration", "Database role"], correct: 1 },
            { question: "What command runs an Ansible playbook?", options: ["ansible run", "ansible-playbook", "ansible execute", "ansible start"], correct: 1 },
            { question: "Can Ansible manage both Linux and Windows systems?", options: ["Only Linux", "Only Windows", "Both", "Neither"], correct: 2 }
        ],
        docker: [
            { question: "What is Docker primarily used for?", options: ["Virtualization", "Containerization", "Monitoring", "Load Balancing"], correct: 1 },
            { question: "What is a Docker image?", options: ["A running container", "A template for containers", "A network configuration", "A storage volume"], correct: 1 },
            { question: "What command lists running Docker containers?", options: ["docker list", "docker ps", "docker show", "docker containers"], correct: 1 },
            { question: "What file defines a Docker image?", options: ["Dockerconfig", "Dockerfile", "docker.yml", "image.conf"], correct: 1 },
            { question: "What command builds a Docker image?", options: ["docker create", "docker make", "docker build", "docker compile"], correct: 2 },
            { question: "What is Docker Hub?", options: ["A container runtime", "A registry for Docker images", "A monitoring tool", "A network driver"], correct: 1 },
            { question: "What command runs a Docker container?", options: ["docker start", "docker execute", "docker run", "docker launch"], correct: 2 },
            { question: "What is a Docker volume?", options: ["A network", "A persistent data storage", "A container image", "A configuration file"], correct: 1 },
            { question: "What command stops a running container?", options: ["docker end", "docker halt", "docker stop", "docker kill"], correct: 2 },
            { question: "What port does Docker daemon typically listen on?", options: ["8080", "3000", "2375/2376", "5000"], correct: 2 }
        ],
        kubernetes: [
            { question: "What is Kubernetes?", options: ["A container runtime", "A container orchestration platform", "A monitoring tool", "A CI/CD tool"], correct: 1 },
            { question: "What is a Pod in Kubernetes?", options: ["A cluster", "Smallest deployable unit", "A network", "A storage unit"], correct: 1 },
            { question: "What is kubectl?", options: ["A pod", "Command-line tool for Kubernetes", "A container", "A service"], correct: 1 },
            { question: "What does K8s stand for?", options: ["Kubernetes", "Kube-eight-s", "Both A and B", "Neither"], correct: 2 },
            { question: "What is a Kubernetes Service?", options: ["A pod", "An abstraction for network access to pods", "A container", "A volume"], correct: 1 },
            { question: "Which company originally developed Kubernetes?", options: ["Amazon", "Microsoft", "Google", "Docker"], correct: 2 },
            { question: "What is a Namespace in Kubernetes?", options: ["A virtual cluster", "A network segment", "A storage class", "A pod type"], correct: 0 },
            { question: "What command gets all pods in Kubernetes?", options: ["kubectl list pods", "kubectl get pods", "kubectl show pods", "kubectl pods"], correct: 1 },
            { question: "What is a Deployment in Kubernetes?", options: ["A network rule", "A declarative way to manage pods", "A storage volume", "A monitoring tool"], correct: 1 },
            { question: "What is the default container runtime for Kubernetes?", options: ["Docker", "containerd", "rkt", "CRI-O"], correct: 1 }
        ],
        git: [
            { question: "What is Git?", options: ["A version control system", "A programming language", "A web server", "A database"], correct: 0 },
            { question: "What command initializes a new Git repository?", options: ["git start", "git init", "git new", "git create"], correct: 1 },
            { question: "What command shows the status of your repository?", options: ["git show", "git status", "git info", "git state"], correct: 1 },
            { question: "What command adds files to staging?", options: ["git stage", "git add", "git include", "git push"], correct: 1 },
            { question: "What command commits staged changes?", options: ["git save", "git commit", "git push", "git write"], correct: 1 },
            { question: "What is a Git branch?", options: ["A folder", "An independent line of development", "A file type", "A user group"], correct: 1 },
            { question: "What command creates a new branch?", options: ["git new branch", "git branch", "git create branch", "git make branch"], correct: 1 },
            { question: "What command switches branches?", options: ["git switch", "git checkout", "git change", "Both A and B"], correct: 3 },
            { question: "What is GitHub?", options: ["A Git client", "A hosting service for Git repositories", "A version of Git", "A text editor"], correct: 1 },
            { question: "What command uploads commits to a remote repository?", options: ["git upload", "git send", "git push", "git commit"], correct: 2 }
        ]
    },
    intermediate: {
        linux: [
            { question: "What is the purpose of the /etc/passwd file?", options: ["Store passwords", "Store user account information", "System logs", "Network configuration"], correct: 1 },
            { question: "Which command finds files by name?", options: ["locate", "find", "search", "grep"], correct: 1 },
            { question: "What does the 'systemctl' command manage?", options: ["System time", "Systemd services", "System logs", "System users"], correct: 1 },
            { question: "What permission value gives rwx to owner, rx to group and others?", options: ["777", "755", "644", "700"], correct: 1 },
            { question: "Which command shows disk usage of filesystems?", options: ["du", "df", "disk", "free"], correct: 1 },
            { question: "What does the 'top' command display?", options: ["Top directories", "Real-time system processes", "Top files", "Network connections"], correct: 1 },
            { question: "How do you redirect both stdout and stderr to a file?", options: ["command > file 2>&1", "command >> file", "command > file", "command 2> file"], correct: 0 },
            { question: "What is a symbolic link?", options: ["A hard copy", "A pointer to another file", "A compressed file", "A backup file"], correct: 1 },
            { question: "Which command displays network connections?", options: ["netstat", "ifconfig", "ping", "traceroute"], correct: 0 },
            { question: "What is cron used for?", options: ["Logging", "Scheduling tasks", "User management", "File compression"], correct: 1 }
        ],
        terraform: [
            { question: "What is a Terraform module?", options: ["A single file", "A container for resources", "A state file", "A provider plugin"], correct: 1 },
            { question: "How do you reference a variable in Terraform?", options: ["${var.name}", "var.name", "Both A and B", "variable.name"], correct: 2 },
            { question: "What is terraform.tfstate file?", options: ["Configuration file", "State tracking file", "Variable file", "Module file"], correct: 1 },
            { question: "What does 'terraform validate' do?", options: ["Validates syntax", "Applies changes", "Shows plan", "Destroys resources"], correct: 0 },
            { question: "What is a data source in Terraform?", options: ["A database", "A way to fetch read-only information", "A storage location", "A network source"], correct: 1 },
            { question: "How do you prevent a resource from being destroyed?", options: ["prevent_destroy = true", "lifecycle { prevent_destroy = true }", "protected = true", "lock = true"], correct: 1 },
            { question: "What is terraform workspace used for?", options: ["Multiple state files", "Multiple providers", "Multiple modules", "Multiple users"], correct: 0 },
            { question: "What does 'depends_on' do?", options: ["Creates dependency", "Destroys dependency", "Lists dependencies", "Validates dependencies"], correct: 0 },
            { question: "What is the purpose of terraform.lock.hcl?", options: ["Lock state file", "Lock provider versions", "Lock resources", "Lock modules"], correct: 1 },
            { question: "How do you import existing resources?", options: ["terraform add", "terraform import", "terraform include", "terraform merge"], correct: 1 }
        ],
        aws: [
            { question: "What is an AMI?", options: ["Amazon Machine Image", "Amazon Machine Instance", "Amazon Module Interface", "Amazon Management Interface"], correct: 0 },
            { question: "What is the difference between Security Groups and NACLs?", options: ["Same thing", "SG is stateful, NACL is stateless", "SG is stateless, NACL is stateful", "No difference"], correct: 1 },
            { question: "What is an Auto Scaling Group?", options: ["A load balancer", "A group of EC2 instances that scale automatically", "A database cluster", "A storage group"], correct: 1 },
            { question: "What is the maximum size of an S3 object?", options: ["1 GB", "5 GB", "5 TB", "Unlimited"], correct: 2 },
            { question: "What is Amazon EBS?", options: ["Elastic Block Storage", "Elastic Bean Stalk", "Elastic Backup Service", "Elastic Balance System"], correct: 0 },
            { question: "What are the different types of load balancers in AWS?", options: ["Only Application", "Application, Network, Classic", "Only Network", "Application and Gateway"], correct: 1 },
            { question: "What is AWS CloudFormation?", options: ["Monitoring service", "Infrastructure as Code service", "Database service", "Analytics service"], correct: 1 },
            { question: "What is the difference between horizontal and vertical scaling?", options: ["Same thing", "Horizontal adds instances, Vertical increases instance size", "Horizontal increases size, Vertical adds instances", "No difference"], correct: 1 },
            { question: "What is Amazon SNS?", options: ["Simple Notification Service", "Simple Network Service", "Secure Network System", "Storage Node Service"], correct: 0 },
            { question: "What is the AWS shared responsibility model?", options: ["AWS manages everything", "Customer manages everything", "AWS handles security OF cloud, customer handles security IN cloud", "Shared equally"], correct: 2 }
        ],
        ansible: [
            { question: "What is idempotency in Ansible?", options: ["Running faster", "Same result when run multiple times", "Parallel execution", "Error handling"], correct: 1 },
            { question: "What are Ansible facts?", options: ["User variables", "System information gathered automatically", "Configuration files", "Error logs"], correct: 1 },
            { question: "What is the difference between a playbook and a role?", options: ["Same thing", "Playbook contains tasks, role is reusable structure", "Role contains playbooks", "No difference"], correct: 1 },
            { question: "How do you run a playbook in check mode?", options: ["ansible-playbook --check", "ansible-playbook --dry-run", "ansible-playbook --test", "ansible-playbook --verify"], correct: 0 },
            { question: "What is Ansible Vault?", options: ["Storage system", "Encryption for sensitive data", "Backup tool", "Version control"], correct: 1 },
            { question: "What is a handler in Ansible?", options: ["Error handler", "Task triggered by notify", "User handler", "Network handler"], correct: 1 },
            { question: "How do you limit playbook execution to specific hosts?", options: ["--limit", "--hosts", "--only", "--filter"], correct: 0 },
            { question: "What is the difference between 'copy' and 'template' modules?", options: ["Same thing", "Template processes Jinja2 variables", "Copy is faster", "No difference"], correct: 1 },
            { question: "What is ansible-galaxy?", options: ["Cloud service", "Repository for sharing roles", "Monitoring tool", "Database"], correct: 1 },
            { question: "What does 'gather_facts' do?", options: ["Gathers logs", "Collects system information", "Gathers errors", "Collects metrics"], correct: 1 }
        ],
        docker: [
            { question: "What is the difference between CMD and ENTRYPOINT?", options: ["Same thing", "ENTRYPOINT is not overridable, CMD is", "CMD runs first", "No difference"], correct: 1 },
            { question: "What is a multi-stage build?", options: ["Multiple images", "Building image in multiple stages to reduce size", "Parallel builds", "Version control"], correct: 1 },
            { question: "What is docker-compose used for?", options: ["Build images", "Define and run multi-container applications", "Monitor containers", "Deploy to production"], correct: 1 },
            { question: "What is the difference between COPY and ADD in Dockerfile?", options: ["Same thing", "ADD has extra features like URL and tar extraction", "COPY is faster", "No difference"], correct: 1 },
            { question: "What is Docker networking?", options: ["Internet connection", "How containers communicate", "Cloud networking", "VPN"], correct: 1 },
            { question: "What are the default Docker networks?", options: ["bridge, host, none", "public, private", "internal, external", "default only"], correct: 0 },
            { question: "What is a Docker registry?", options: ["Configuration store", "Storage for Docker images", "Log storage", "Network registry"], correct: 1 },
            { question: "What does 'docker exec' do?", options: ["Execute image", "Run command in running container", "Execute build", "Run new container"], correct: 1 },
            { question: "What is the purpose of .dockerignore?", options: ["Ignore errors", "Exclude files from build context", "Ignore warnings", "Skip tests"], correct: 1 },
            { question: "What is Docker Swarm?", options: ["Image builder", "Native clustering and orchestration", "Monitoring tool", "Registry"], correct: 1 }
        ],
        kubernetes: [
            { question: "What is the difference between a Deployment and a StatefulSet?", options: ["Same thing", "StatefulSet maintains pod identity and order", "Deployment is newer", "No difference"], correct: 1 },
            { question: "What is a ConfigMap?", options: ["Configuration backup", "Store non-sensitive configuration data", "Cluster map", "Network configuration"], correct: 1 },
            { question: "What is a Secret in Kubernetes?", options: ["Hidden feature", "Store sensitive information", "Private network", "Encrypted storage"], correct: 1 },
            { question: "What is an Ingress?", options: ["Pod entry point", "Manages external access to services", "Network plugin", "Storage class"], correct: 1 },
            { question: "What is a DaemonSet?", options: ["Daemon process", "Ensures pod runs on all nodes", "Background service", "System daemon"], correct: 1 },
            { question: "What is the purpose of a ReplicaSet?", options: ["Backup pods", "Maintain desired number of pod replicas", "Replicate data", "Clone services"], correct: 1 },
            { question: "What is a PersistentVolume?", options: ["Temporary storage", "Piece of storage in cluster", "Pod storage", "Image storage"], correct: 1 },
            { question: "What is the difference between a ClusterIP and NodePort service?", options: ["Same thing", "ClusterIP is internal only, NodePort exposes on node", "NodePort is faster", "No difference"], correct: 1 },
            { question: "What is a Helm chart?", options: ["Monitoring chart", "Package manager for Kubernetes", "Network chart", "Performance graph"], correct: 1 },
            { question: "What is kubectl apply vs kubectl create?", options: ["Same thing", "Apply is declarative, create is imperative", "Create is newer", "No difference"], correct: 1 }
        ],
        git: [
            { question: "What is the difference between 'git pull' and 'git fetch'?", options: ["Same thing", "Pull fetches and merges, fetch only downloads", "Fetch is faster", "No difference"], correct: 1 },
            { question: "What does 'git rebase' do?", options: ["Deletes commits", "Reapplies commits on top of another branch", "Creates backup", "Resets branch"], correct: 1 },
            { question: "What is a merge conflict?", options: ["Server error", "When changes conflict during merge", "Branch error", "Commit error"], correct: 1 },
            { question: "What is 'git stash' used for?", options: ["Delete changes", "Temporarily save uncommitted changes", "Create backup", "Archive commits"], correct: 1 },
            { question: "What is the difference between 'git merge' and 'git rebase'?", options: ["Same thing", "Merge creates merge commit, rebase rewrites history", "Rebase is faster", "No difference"], correct: 1 },
            { question: "What is a remote in Git?", options: ["Cloud storage", "Reference to another repository", "Backup location", "Remote server"], correct: 1 },
            { question: "What does 'git cherry-pick' do?", options: ["Delete commit", "Apply specific commit to current branch", "Pick files", "Select branches"], correct: 1 },
            { question: "What is HEAD in Git?", options: ["First commit", "Pointer to current branch/commit", "Main branch", "Remote branch"], correct: 1 },
            { question: "What is .gitignore file?", options: ["Ignored commits", "Specifies files to ignore", "Deleted files list", "Error log"], correct: 1 },
            { question: "What is 'git reset' used for?", options: ["Reset password", "Undo commits and changes", "Reset repository", "Restart Git"], correct: 1 }
        ]
    },
    advanced: {
        linux: [
            { question: "What is the difference between hard and soft links?", options: ["Same thing", "Hard link points to inode, soft link points to filename", "Soft is faster", "No difference"], correct: 1 },
            { question: "What is SELinux?", options: ["Shell", "Security-Enhanced Linux (MAC system)", "Package manager", "File system"], correct: 1 },
            { question: "What is a daemon process?", options: ["Virus", "Background service process", "User process", "System command"], correct: 1 },
            { question: "What is the purpose of /proc filesystem?", options: ["Store programs", "Virtual filesystem for process info", "Store logs", "Configuration files"], correct: 1 },
            { question: "What is iptables used for?", options: ["Table management", "Packet filtering and NAT", "Database tables", "Process tables"], correct: 1 },
            { question: "What is the difference between TCP and UDP?", options: ["Same protocol", "TCP is connection-oriented, UDP is connectionless", "UDP is newer", "No difference"], correct: 1 },
            { question: "What is kernel panic?", options: ["User error", "Fatal system error", "Warning message", "Performance issue"], correct: 1 },
            { question: "What is LVM?", options: ["Log Volume Manager", "Logical Volume Manager", "Linux Virtual Machine", "Local Volume Mount"], correct: 1 },
            { question: "What is the difference between /dev/sda and /dev/sda1?", options: ["Same device", "sda is disk, sda1 is partition", "Different disks", "sda1 is backup"], correct: 1 },
            { question: "What is systemd?", options: ["System command", "Init system and service manager", "Daemon process", "Configuration tool"], correct: 1 }
        ],
        terraform: [
            { question: "What is the purpose of terraform remote state?", options: ["Backup state", "Share state across team", "Delete state", "Version state"], correct: 1 },
            { question: "How do you handle sensitive data in Terraform?", options: ["Plain text", "Use sensitive flag and secret managers", "Encrypt files", "Hide variables"], correct: 1 },
            { question: "What is terraform taint used for?", options: ["Mark resource dirty", "Mark resource for recreation", "Delete resource", "Validate resource"], correct: 1 },
            { question: "What is the purpose of provisioners?", options: ["Provision cloud", "Execute scripts on resource creation", "Create providers", "Manage state"], correct: 1 },
            { question: "What is dynamic block in Terraform?", options: ["Moving block", "Generate nested blocks dynamically", "Type of resource", "State block"], correct: 1 },
            { question: "How does terraform handle dependencies?", options: ["Manual only", "Implicit and explicit dependencies", "No dependencies", "Random order"], correct: 1 },
            { question: "What is count vs for_each?", options: ["Same thing", "count uses index, for_each uses keys", "for_each is older", "No difference"], correct: 1 },
            { question: "What is terraform state locking?", options: ["Lock files", "Prevent concurrent state modifications", "Lock resources", "Secure state"], correct: 1 },
            { question: "What are terraform backends?", options: ["Background processes", "Where state is stored", "Database backends", "API backends"], correct: 1 },
            { question: "How do you upgrade terraform providers safely?", options: ["Delete and reinstall", "Use terraform init -upgrade", "Manual update", "Auto-update"], correct: 1 }
        ],
        aws: [
            { question: "What is the difference between ephemeral and persistent storage?", options: ["Same thing", "Ephemeral is temporary, persistent survives restarts", "Persistent is faster", "No difference"], correct: 1 },
            { question: "What is AWS Organizations used for?", options: ["Organize files", "Centrally manage multiple AWS accounts", "Organize users", "Organize resources"], correct: 1 },
            { question: "What is the difference between AWS Config and CloudTrail?", options: ["Same service", "Config tracks resource config, CloudTrail tracks API calls", "CloudTrail is newer", "No difference"], correct: 1 },
            { question: "What is AWS PrivateLink?", options: ["Private network", "Access services privately without public internet", "VPN service", "Direct Connect"], correct: 1 },
            { question: "What is the Well-Architected Framework?", options: ["Building design", "Best practices for cloud architecture", "Database framework", "Network framework"], correct: 1 },
            { question: "What is the difference between spot, on-demand, and reserved instances?", options: ["Same pricing", "Different pricing and commitment models", "Spot is faster", "No difference"], correct: 1 },
            { question: "What is AWS Systems Manager?", options: ["System monitor", "Operational data and automation service", "Database system", "File system"], correct: 1 },
            { question: "How does AWS KMS work?", options: ["Key storage", "Managed encryption key service", "Monitoring service", "Database service"], correct: 1 },
            { question: "What is the difference between ALB and NLB?", options: ["Same load balancer", "ALB is Layer 7, NLB is Layer 4", "NLB is older", "No difference"], correct: 1 },
            { question: "What is AWS Transit Gateway?", options: ["VPN gateway", "Connects VPCs and on-premises networks", "Internet gateway", "NAT gateway"], correct: 1 }
        ],
        ansible: [
            { question: "How do you implement rolling updates in Ansible?", options: ["Manual process", "Use serial and max_fail_percentage", "Not possible", "Use parallel"], correct: 1 },
            { question: "What is Ansible Tower/AWX?", options: ["Ansible version", "Web UI and API for Ansible", "Cloud service", "Database"], correct: 1 },
            { question: "How do you optimize Ansible performance?", options: ["Use faster servers", "Pipelining, forks, async tasks", "Cannot optimize", "Use more memory"], correct: 1 },
            { question: "What is the difference between include and import?", options: ["Same thing", "include is dynamic, import is static", "import is newer", "No difference"], correct: 1 },
            { question: "How do you test Ansible playbooks?", options: ["Manual testing", "Molecule, syntax check, --check mode", "Cannot test", "Production testing"], correct: 1 },
            { question: "What is Ansible callback plugin?", options: ["Network callback", "Customizes output and logging", "Error handler", "API callback"], correct: 1 },
            { question: "How do you handle secrets management at scale?", options: ["Plain text files", "Ansible Vault with external secret managers", "Environment variables", "No secrets"], correct: 1 },
            { question: "What is the purpose of ansible.cfg?", options: ["Store playbooks", "Configure Ansible behavior", "Store variables", "Store inventory"], correct: 1 },
            { question: "How do you debug Ansible playbooks?", options: ["Print statements", "debug module, -vvv flag, debugger", "Cannot debug", "Trial and error"], correct: 1 },
            { question: "What are custom Ansible modules?", options: ["Pre-built modules", "User-written modules for specific tasks", "Cloud modules", "Database modules"], correct: 1 }
        ],
        docker: [
            { question: "What is BuildKit in Docker?", options: ["Build tool", "Next-generation build system", "Image builder", "Container builder"], correct: 1 },
            { question: "How do you reduce Docker image size?", options: ["Compress images", "Multi-stage builds, minimize layers, use alpine", "Cannot reduce", "Delete files"], correct: 1 },
            { question: "What is the difference between bridge and overlay networks?", options: ["Same network", "Bridge for single host, overlay for multi-host", "Overlay is faster", "No difference"], correct: 1 },
            { question: "What is Docker content trust?", options: ["Trust policy", "Image signing and verification", "Container trust", "Network trust"], correct: 1 },
            { question: "How do you implement health checks in Docker?", options: ["Manual checks", "HEALTHCHECK instruction in Dockerfile", "External monitoring", "No health checks"], correct: 1 },
            { question: "What is the difference between bridge driver and host driver?", options: ["Same driver", "Bridge isolates network, host uses host network", "Host is faster", "No difference"], correct: 1 },
            { question: "What are Docker build arguments vs environment variables?", options: ["Same thing", "ARG is build-time, ENV is runtime", "ENV is build-time", "No difference"], correct: 1 },
            { question: "How do you secure Docker containers?", options: ["Use passwords", "Least privilege, scanning, secrets management", "Cannot secure", "Encryption only"], correct: 1 },
            { question: "What is Docker layer caching?", options: ["Memory cache", "Reuses unchanged layers in builds", "Disk cache", "Network cache"], correct: 1 },
            { question: "What is the purpose of Docker namespaces?", options: ["Name containers", "Isolate container resources", "Organize images", "Network namespaces"], correct: 1 }
        ],
        kubernetes: [
            { question: "What is the Kubernetes control plane?", options: ["User interface", "Components managing cluster state", "Network plane", "Data plane"], correct: 1 },
            { question: "What is etcd in Kubernetes?", options: ["Container runtime", "Distributed key-value store for cluster data", "Network plugin", "Storage system"], correct: 1 },
            { question: "How does Kubernetes scheduler work?", options: ["Random assignment", "Assigns pods to nodes based on resources and constraints", "Round-robin", "First available"], correct: 1 },
            { question: "What is a Custom Resource Definition (CRD)?", options: ["Custom pod", "Extends Kubernetes API with custom resources", "Custom network", "Custom storage"], correct: 1 },
            { question: "What is the difference between horizontal and vertical pod autoscaling?", options: ["Same thing", "HPA scales replicas, VPA adjusts resource requests", "VPA scales replicas", "No difference"], correct: 1 },
            { question: "What is a Service Mesh?", options: ["Network mesh", "Infrastructure layer for service-to-service communication", "Load balancer", "Service discovery"], correct: 1 },
            { question: "What is the purpose of admission controllers?", options: ["Admit users", "Intercept and validate/mutate API requests", "Control access", "Manage admissions"], correct: 1 },
            { question: "How do you implement blue-green deployments in Kubernetes?", options: ["Color coding", "Multiple deployments with service switching", "Built-in feature", "Not possible"], correct: 1 },
            { question: "What is the Kubernetes API server?", options: ["Web server", "Central management point for cluster", "Database server", "Application server"], correct: 1 },
            { question: "What is network policy in Kubernetes?", options: ["Network configuration", "Firewall rules for pod communication", "Network speed", "Network monitoring"], correct: 1 }
        ],
        git: [
            { question: "What is git reflog?", options: ["Reflection log", "Reference log of HEAD movements", "Error log", "Commit log"], correct: 1 },
            { question: "What is the difference between git reset --soft, --mixed, and --hard?", options: ["Same command", "Different levels of undo: soft keeps changes, hard discards", "hard is faster", "No difference"], correct: 1 },
            { question: "What is git bisect used for?", options: ["Split repository", "Binary search to find bug-introducing commit", "Divide commits", "Branch splitting"], correct: 1 },
            { question: "What are git hooks?", options: ["Fishing hooks", "Scripts triggered by git events", "Branch hooks", "Commit hooks"], correct: 1 },
            { question: "What is the difference between git merge --squash and regular merge?", options: ["Same merge", "Squash combines commits into one", "Squash is faster", "No difference"], correct: 1 },
            { question: "What is git submodule?", options: ["Sub-branch", "Repository inside another repository", "Module system", "Partial repository"], correct: 1 },
            { question: "How do you recover a deleted branch?", options: ["Cannot recover", "Use reflog to find commit and recreate", "Restore from backup", "Use git recover"], correct: 1 },
            { question: "What is git worktree?", options: ["Working directory", "Multiple working directories for one repository", "Tree structure", "Branch tree"], correct: 1 },
            { question: "What is the purpose of git clean?", options: ["Clean code", "Remove untracked files", "Clean history", "Clean branches"], correct: 1 },
            { question: "What is interactive rebase?", options: ["Interactive mode", "Edit, reorder, squash commits interactively", "Chat interface", "GUI tool"], correct: 1 }
        ]
    }
};

// Quiz Application Logic
let selectedLevel = null;
let selectedCount = null;
let quizQuestions = [];
let currentQuestionIndex = 0;
let userAnswers = [];

const welcomeScreen = document.getElementById('welcome-screen');
const quizScreen = document.getElementById('quiz-screen');
const resultsScreen = document.getElementById('results-screen');
const reviewScreen = document.getElementById('review-screen');

document.addEventListener('DOMContentLoaded', () => {
    initializeWelcomeScreen();
});

function initializeWelcomeScreen() {
    const levelButtons = document.querySelectorAll('[data-level]');
    const countButtons = document.querySelectorAll('[data-count]');
    const startButton = document.getElementById('start-quiz-btn');

    levelButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            levelButtons.forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            selectedLevel = btn.dataset.level;
            checkStartButtonState();
        });
    });

    countButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            countButtons.forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            selectedCount = parseInt(btn.dataset.count);
            checkStartButtonState();
        });
    });

    startButton.addEventListener('click', startQuiz);
}

function checkStartButtonState() {
    const startButton = document.getElementById('start-quiz-btn');
    startButton.disabled = !(selectedLevel && selectedCount);
}

function generateQuestions() {
    const technologies = ['linux', 'terraform', 'aws', 'ansible', 'docker', 'kubernetes', 'git'];
    const levelQuestions = questionBank[selectedLevel];
    const allQuestions = [];

    technologies.forEach(tech => {
        levelQuestions[tech].forEach((q, index) => {
            allQuestions.push({
                ...q,
                tech: tech,
                id: `${tech}-${index}`
            });
        });
    });

    const shuffled = allQuestions.sort(() => Math.random() - 0.5);
    return shuffled.slice(0, selectedCount);
}

function startQuiz() {
    quizQuestions = generateQuestions();
    userAnswers = new Array(quizQuestions.length).fill(null);
    currentQuestionIndex = 0;

    welcomeScreen.classList.remove('active');
    quizScreen.classList.add('active');

    document.getElementById('total-questions').textContent = quizQuestions.length;
    document.getElementById('difficulty-badge').textContent = 
        selectedLevel.charAt(0).toUpperCase() + selectedLevel.slice(1);

    initializeQuizControls();
    displayQuestion();
}

function initializeQuizControls() {
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');

    prevBtn.replaceWith(prevBtn.cloneNode(true));
    nextBtn.replaceWith(nextBtn.cloneNode(true));

    document.getElementById('prev-btn').addEventListener('click', () => {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            displayQuestion();
        }
    });

    document.getElementById('next-btn').addEventListener('click', () => {
        if (currentQuestionIndex < quizQuestions.length - 1) {
            currentQuestionIndex++;
            displayQuestion();
        } else {
            finishQuiz();
        }
    });
}

function displayQuestion() {
    const question = quizQuestions[currentQuestionIndex];
    
    document.getElementById('current-question').textContent = currentQuestionIndex + 1;
    document.getElementById('question-text').textContent = question.question;
    document.getElementById('tech-tag').textContent = 
        question.tech.charAt(0).toUpperCase() + question.tech.slice(1);

    const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
    document.getElementById('progress-fill').style.width = progress + '%';

    const optionsContainer = document.getElementById('options-container');
    optionsContainer.innerHTML = '';

    question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.textContent = option;
        
        if (userAnswers[currentQuestionIndex] === index) {
            button.classList.add('selected');
        }

        button.addEventListener('click', () => {
            selectOption(index);
        });

        optionsContainer.appendChild(button);
    });

    document.getElementById('prev-btn').disabled = currentQuestionIndex === 0;
    document.getElementById('next-btn').textContent = 
        currentQuestionIndex === quizQuestions.length - 1 ? 'Finish' : 'Next ‚Üí';
}

function selectOption(optionIndex) {
    userAnswers[currentQuestionIndex] = optionIndex;
    
    const optionButtons = document.querySelectorAll('.option-btn');
    optionButtons.forEach((btn, idx) => {
        btn.classList.toggle('selected', idx === optionIndex);
    });
}

function finishQuiz() {
    const score = calculateScore();
    const techBreakdown = calculateTechBreakdown();

    quizScreen.classList.remove('active');
    resultsScreen.classList.add('active');

    displayResults(score, techBreakdown);
    initializeResultsControls();
}

function calculateScore() {
    let correct = 0;
    let incorrect = 0;

    quizQuestions.forEach((question, index) => {
        if (userAnswers[index] === question.correct) {
            correct++;
        } else if (userAnswers[index] !== null) {
            incorrect++;
        }
    });

    return {
        correct,
        incorrect,
        total: quizQuestions.length,
        percentage: Math.round((correct / quizQuestions.length) * 100)
    };
}

function calculateTechBreakdown() {
    const breakdown = {};

    quizQuestions.forEach((question, index) => {
        if (!breakdown[question.tech]) {
            breakdown[question.tech] = { correct: 0, total: 0 };
        }
        breakdown[question.tech].total++;
        if (userAnswers[index] === question.correct) {
            breakdown[question.tech].correct++;
        }
    });

    return breakdown;
}

function displayResults(score, techBreakdown) {
    document.getElementById('score-percentage').textContent = score.percentage + '%';
    document.getElementById('correct-count').textContent = score.correct;
    document.getElementById('incorrect-count').textContent = score.incorrect;
    document.getElementById('total-answered').textContent = score.total;

    const breakdownContainer = document.getElementById('tech-breakdown');
    breakdownContainer.innerHTML = '';

    Object.entries(techBreakdown).forEach(([tech, stats]) => {
        const percentage = Math.round((stats.correct / stats.total) * 100);
        const div = document.createElement('div');
        div.className = 'tech-stat';
        div.innerHTML = `
            <span class="tech-stat-name">${tech.charAt(0).toUpperCase() + tech.slice(1)}</span>
            <span class="tech-stat-score">${stats.correct}/${stats.total} (${percentage}%)</span>
        `;
        breakdownContainer.appendChild(div);
    });
}

function initializeResultsControls() {
    document.getElementById('review-btn').replaceWith(document.getElementById('review-btn').cloneNode(true));
    document.getElementById('restart-btn').replaceWith(document.getElementById('restart-btn').cloneNode(true));
    
    document.getElementById('review-btn').addEventListener('click', showReview);
    document.getElementById('restart-btn').addEventListener('click', restart);
}

function showReview() {
    resultsScreen.classList.remove('active');
    reviewScreen.classList.add('active');

    const reviewContainer = document.getElementById('review-container');
    reviewContainer.innerHTML = '';

    quizQuestions.forEach((question, index) => {
        const userAnswer = userAnswers[index];
        const isCorrect = userAnswer === question.correct;

        const reviewItem = document.createElement('div');
        reviewItem.className = `review-item ${isCorrect ? 'correct' : 'incorrect'}`;
        
        reviewItem.innerHTML = `
            <div class="review-header">
                <div class="tech-tag">${question.tech.charAt(0).toUpperCase() + question.tech.slice(1)}</div>
                <div class="review-status ${isCorrect ? 'correct' : 'incorrect'}">
                    ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}
                </div>
            </div>
            <div class="review-question">
                <strong>Q${index + 1}:</strong> ${question.question}
            </div>
            <div class="review-options">
                ${question.options.map((option, optIdx) => {
                    let className = 'review-option';
                    if (optIdx === question.correct) {
                        className += ' correct-answer';
                    }
                    if (optIdx === userAnswer && userAnswer !== question.correct) {
                        className += ' wrong-answer';
                    }
                    if (optIdx === userAnswer) {
                        className += ' user-answer';
                    }
                    
                    let prefix = '';
                    if (optIdx === question.correct) prefix = '‚úì ';
                    if (optIdx === userAnswer && userAnswer !== question.correct) prefix = '‚úó ';
                    
                    return `<div class="${className}">${prefix}${option}</div>`;
                }).join('')}
            </div>
        `;

        reviewContainer.appendChild(reviewItem);
    });

    document.getElementById('back-to-results').replaceWith(document.getElementById('back-to-results').cloneNode(true));
    document.getElementById('back-to-results').addEventListener('click', () => {
        reviewScreen.classList.remove('active');
        resultsScreen.classList.add('active');
    });
}

function restart() {
    selectedLevel = null;
    selectedCount = null;
    quizQuestions = [];
    currentQuestionIndex = 0;
    userAnswers = [];

    document.querySelectorAll('.selection-btn').forEach(btn => {
        btn.classList.remove('selected');
    });

    resultsScreen.classList.remove('active');
    reviewScreen.classList.remove('active');
    welcomeScreen.classList.add('active');

    checkStartButtonState();
}
    </script>
</body>
</html>
